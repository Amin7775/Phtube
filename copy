console.log("connected")

const loadCategory=async () => {
    const res = await fetch(`https://openapi.programming-hero.com/api/videos/categories`);
    const data = await res.json();
    const details = data.data;
    console.log(details)
    createButtons(details)
}
loadCategory();

// dynamic btn
const createButtons = (details) =>{
    const btnContainer = document.getElementById('btn-container');
    btnContainer.textContent = '';

    details.forEach((category) => {
        const div = document.createElement('div');
        div.classList= `btn bg-gray-200`

        div.innerHTML= `
        <p>${category.category}</p>
        <p>${category.category_id}</p>
      `
        // console.log(category.category, "clicked")
        div.id=`${category.category_id}`
        div.onclick = () => loadCategoryDetails(div.id); //call function
        
        console.log(div.id);
      btnContainer.appendChild(div);
    })
}



const loadCategoryDetails =async (id) =>{
    console.log(id , 'load')
    const res = await fetch(`https://openapi.programming-hero.com/api/videos/category/${id}`);
    console.log(res , 'load')
    const data = await res.json();
    const categoryDetails = data.data;
    const result = categoryDetails;
    console.log(result)
    // return categoryDetails;

    const cardContainer = document.getElementById('card-container');
    cardContainer.textContent = '';

    result.forEach((detail) => {
        const div= document.createElement('div');

        div.classList= `card bg-base-100 border-2 border-gray-200 p-5 mx-auto`;

        div.innerHTML=`
        hello
        <img src="${detail.thumbnail}" />
        `

        cardContainer.appendChild(div)
    })
    // console.log(categoryDetails);
}

// const displayData =async (id) =>{
//     const result =await loadCategoryDetails(id);
//     console.log(result)

    // const cardContainer = document.getElementById('card-container');
    // // cardContainer.textContent = '';

    // result.forEach((detail) => {
    //     const div= document.createElement('div');

    //     div.classList= `card w-80 lg:w-88 bg-base-100 border-2 border-gray-200 p-5 mx-auto`;

    //     div.innerHTML=`
    //     hello
    //     <img src="${detail.thumbnail}" />
    //     `

    //     cardContainer.appendChild(div)
    // })
// }